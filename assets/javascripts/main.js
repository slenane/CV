// CV translations
const language = {
  english: {
    bio: 'Front-end developer from Ireland based in Seville, Spain',
    'link-header': 'Get in touch',
    creator: 'Creator of',
    website: 'Website',
    'language-switcher': 'Switch language',
    'view-on-github': 'View GitHub Repository',
    host: 'Hosted on GitHub Pages — Theme by',
    headers: [
      'Technical Experience',
      'Skills',
      'Languages',
      'Education',
      'Personal Timeline',
    ],
    copenhagen: 'Copenhagen',
    lisbon: 'Lisbon',
    experience: [
      {
        position: 'Frontend Developer',
        'employment-dates': 'Jun 2022 - Present',
        'employment-description': `
          <li>Responsible for the support, maintenance, and update of the different GoContact websites in addition to SEO optimization.</li>
          <li>Worked closely with the design team to develop sites that meet all functional requirements with an engaging UX.</li>
          <li>Provided analysis of competitor websites to implement new features on the GoContact website.</li>
          <li>Developed multi-language sites with both WordPress and PHP. This necessitated the use of custom JavaScript to improve UX and functionality.</li>
        `
      },
      {
        position: 'Web Developer',
        'employment-dates': 'Jan 2022 - May 2022',
        'employment-description': `
          <li>Responsible for the support, maintenance, and update of the different GoContact websites in addition to SEO optimization.</li>
          <li>Worked closely with the design team to develop sites that meet all functional requirements with an engaging UX.</li>
          <li>Provided analysis of competitor websites to implement new features on the GoContact website.</li>
          <li>Developed multi-language sites with both WordPress and PHP. This necessitated the use of custom JavaScript to improve UX and functionality.</li>
        `
      },
      {
        position: 'Freelance Web Developer',
        'employment-dates': 'Dec 2020 - Jan 2022',
        'employment-description': `
          <li>Design and develop custom websites for small businesses as an affordable alternative to expensive drag-and-drop website providers.</li>
          <li>Ensure excellent user experience through responsive designs, with a focus on performance, accessibility and best practices to yield high SEO scores.</li>
          <li>Create online stores with the implementation of e-commerce platform payment gateways and custom product templates.</li>
        `
      },
    ],
    'technology-used': 'Technologies used',
    and: 'and',
    languages: [
      ['English', 'Native'],
      ['Spanish', 'B1 (Intermediate)']
    ],
    education: [
      {
        dates: 'Jul 2022 - Sep 2022',
        'course-focus': `
          <li>Angular Component and Service Testing</li>
          <li>Continuous Integration with Travis CI</li>
          <li>Angular E2E Testing with Cypress</li>
        `,
      },
      {
        dates: 'Mar 2022 - Apr 2022',
        'course-focus': `
          <li>Create a Content Management System</li>
          <li>Security in PHP</li>
          <li>Object-Oriented Programming</li>
        `,
      },
      {
        dates: 'Jan 2022 - Mar 2022',
        'course-focus': `
          <li>Digital Marketing Technologies and Practice</li>
          <li>Creative Methods for Social Media Marketing</li>
          <li>Social Media Marketing Management</li>
          <li>European and International Digital Media</li>
        `,
      },
      {
        dates: 'Jun 2021 - Oct 2021',
        'course-focus': `
          <li>Build fast and scalable server-side web applications with Node.js</li>
          <li>REST APIs and GraphQL APIs</li>
          <li>Using databases like MongoDB and SQL</li>
        `,
      },
      {
        dates: 'Feb 2021 - Jun 2021',
        'course-focus': `
          <li>C, Python and JavaScript languages</li>
          <li>Topics included abstraction, algorithms, data structures, encapsulation, resource management, security, software engineering, and web development</li>
          <li>How to think algorithmically and solve problems efficiently</li>
        `,
      },
      {
        dates: 'Jun 2020 - Sep 2020',
        'course-focus': `
          <li>Fundamentals of modern JavaScript</li>
          <li>Object-Oriented programming</li>
          <li>Asynchronous JavaScript</li>
        `,
      },
      {
        dates: 'Jul 2020 - Aug 2020',
        'course-focus': `
          <li>Fundamentals of JavaScript including variables, arrays, objects, loops, and functions</li>
          <li>Create algorithms to manipulate strings, factorialize numbers, and calculate the orbit of the International Space Station</li>
          <li>Object-Oriented and Functional Programming</li>
        `,
      },
      {
        dates: 'Jun 2020 - Jul 2020',
        'course-focus': `
          <li>Build 30 JavaScript projects in 30 days</li>
          <li>DOM manipulation</li>
          <li>Event capture, propagation, bubbling, and once</li>
        `,
      },
      {
        dates: 'Feb 2020 - Jun 2020',
        'course-focus': `
          <li>HTML5, CSS3, JavaScript, Node.js, Express, and MongoDB</li>
          <li>AJAX and APIs</li>
          <li>HTTPS and Security</li>
        `,
      },
      {
        dates: 'Dec 2019 - Jan 2020',
        'course-focus': `
          <li>Build webpages with HTML and CSS</li>
          <li>Flexbox and CSS Grid</li>
        `,
      },
    ],
    degree: 'Bachelor of Science',
    course: ' - Biochemistry - 2.1 Honours (3.5 GPA)',
    'textbooks-read': 'Textbooks Read',
  },
  spanish: {
    bio: 'Desarrollador Front-end de Irlanda con base en Sevilla, España',
    creator: 'Creador de',
    'link-header': 'Contacto',
    website: 'Sitio web',
    'language-switcher': 'Cambiar de idioma',
    'view-on-github': 'Ver Repositorio GitHub',
    host: 'Alojado en GitHub Pages — Tema por',
    headers: [
      'Experiencia Técnica',
      'Habilidades',
      'Idiomas',
      'Educación',
      'Cronología Personal',
    ],
    copenhagen: 'Copenhague',
    lisbon: 'Lisboa',
    experience: [
      {
        position: 'Desarrollador Web Frontend',
        'employment-dates': 'Jun 2022 - Presente',
        'employment-description': `
          <li>Responsable del soporte, mantenimiento y actualización de los diferentes sitios web de GoContact además de la optimización SEO.</li>
          <li>Trabajé estrechamente con el equipo de diseño para desarrollar sitios que cumplieran con todos los requisitos funcionales con una UX atractiva.</li>
          <li>Proporcioné análisis de los sitios web de la competencia para implementar nuevas funciones en el sitio web de GoContact.</li>
          <li>Desarrollé sitios multilingües tanto con WordPress como con PHP. Esto requirió el uso de JavaScript personalizado para mejorar la UX y la funcionalidad.</li>
        `
      },
      {
        position: 'Desarrollador Web',
        'employment-dates': 'Ene 2022 - May 2022',
        'employment-description': `
          <li>Responsable del soporte, mantenimiento y actualización de los diferentes sitios web de GoContact además de la optimización SEO.</li>
          <li>Trabajé estrechamente con el equipo de diseño para desarrollar sitios que cumplieran con todos los requisitos funcionales con una UX atractiva.</li>
          <li>Proporcioné análisis de los sitios web de la competencia para implementar nuevas funciones en el sitio web de GoContact.</li>
          <li>Desarrollé sitios multilingües tanto con WordPress como con PHP. Esto requirió el uso de JavaScript personalizado para mejorar la UX y la funcionalidad.</li>
        `
      },
      {
        position: 'Desarrollador Web Freelance',
        'employment-dates': 'Dic 2020 - Ene 2022',
        'employment-description': `
          <li>Diseño y desarrollo sitios web personalizados para pequeñas empresas como una alternativa asequible a los costosos proveedores de sitios web de 'drag-and-drop'.</li>
          <li>Garantizo una excelente experiencia de usuario a través de diseños responsivos, con un enfoque en el rendimiento, la accesibilidad y las mejores prácticas para obtener altas puntuaciones de SEO.</li>
          <li>Creo tiendas online con la implementación de pasarelas de pago de plataformas de comercio electrónico y plantillas de productos personalizadas.</li>
        `
      },
    ],
    'technology-used': 'Tecnología utilizada',
    and: 'y',
    languages: [
      ['Inglés', 'Nativo'],
      ['Español', 'B1 (Intermedio)']
    ],
    education: [
      {
        dates: 'Jul 2022 - Sep 2022',
        'course-focus': `
          <li>Pruebas de componentes y servicios de Angular</li>
          <li>Integración continua con Travis CI</li>
          <li>Pruebas E2E de Angular con Cypress</li>
        `,
      },
      {
        dates: 'Mar 2022 - Abr 2022',
        'course-focus': `
          <li>Crear un Sistema de Gestión de Contenidos (Content Management System, CMS)</li>
          <li>Seguridad en PHP</li>
          <li>Programación Orientada a Objetos</li>
        `,
      },
      {
        dates: 'Ene 2022 - Mar 2022',
        'course-focus': `
          <li>Tecnologías y práctica del Marketing Digital</li>
          <li>Métodos Creativos para el Marketing en Redes Sociales</li>
          <li>Gestión de Marketing en Redes Sociales</li>
          <li>Medios Digitales Europeos e Internacionales</li>
        `,
      },
      {
        dates: 'Jun 2021 - Oct 2021',
        'course-focus': `
          <li>Creación de aplicaciones web del lado del servidor rápidas y escalables con Node.js</li>
          <li>APIs REST y APIs GraphQL</li>
          <li>Uso de bases de datos como MongoDB y SQL</li>
        `,
      },
      {
        dates: 'Feb 2021 - Jun 2021',
        'course-focus': `
          <li>Lenguajes C, Python y JavaScript</li>
          <li>Los temas incluían la abstracción, los algoritmos, las estructuras de datos, la encapsulación, la gestión de recursos, la seguridad, la ingeniería de software, y el desarrollo web</li>
          <li>Cómo pensar de forma algorítmica y resolver problemas de forma eficaz</li>
        `,
      },
      {
        dates: 'Jun 2020 - Sep 2020',
        'course-focus': `
          <li>Fundamentos del JavaScript moderno</li>
          <li>Programación Orientada a Objetos</li>
          <li>JavaScript Asíncrono</li>
        `,
      },
      {
        dates: 'Jul 2020 - Ago 2020',
        'course-focus': `
          <li>Fundamentos de JavaScript, incluyendo variables, matrices, objetos, bucles y funciones</li>
          <li>Crear algoritmos para manipular cadenas, factorizar números, y calcular la órbita de la Estación Espacial Internacional</li>
          <li>Programación Orientada a Objetos y Programación Funcional</li>
        `,
      },
      {
        dates: 'Jun 2020 - Jul 2020',
        'course-focus': `
          <li>Construya 30 proyectos de JavaScript en 30 días</li>
          <li>Manipulación del DOM</li>
          <li>Captura de eventos, propagación, burbujeo, y once</li>
        `,
      },
      {
        dates: 'Feb 2020 - Jun 2020',
        'course-focus': `
          <li>HTML5, CSS3, JavaScript, Node.js, Express, y MongoDB</li>
          <li>AJAX y APIs</li>
          <li>HTTPS y Seguridad</li>
        `,
      },
      {
        dates: 'Dic 2019 - Ene 2020',
        'course-focus': `
          <li>Construir páginas web con HTML y CSS</li>
          <li>Flexbox y CSS Grid</li>
        `,
      },
    ],
    degree: 'Licenciado en Ciencias',
    course: ' - Bioquímica - 2.1 Honores (3.5 GPA)',
    'textbooks-read': 'Libros de Texto Leídos',
  },
};

// Language switcher buttons
const englishBtn = document.querySelector('.lang-eng');
const spanishBtn = document.querySelector('.lang-esp');

// Content to be updated on language change
const bio = document.querySelector('.bio');
const creator = document.querySelector('.creator');
const copenhagen = document.querySelector('.copenhagen');
const lisbon = document.querySelector('.lisbon');
const linkHeader = document.querySelector('.link-header');
const website = document.querySelector('.website');
const languageSwitch = document.querySelector('.switch-language');
const viewOnGithub = document.querySelector('.view-on-github');
const host = document.querySelector('.host');
const textbooksRead = document.querySelector('.textbooks-read');
const degree = document.querySelector('.degree');
const degreeCourse = document.querySelector('.degree-course');
const and = document.querySelectorAll('.and');
const headers = document.querySelectorAll('.header');
const positions = document.querySelectorAll('.position');
const employmentDates = document.querySelectorAll('.employment-dates');
const employmentDescriptions = document.querySelectorAll('.employment-description');
// const keyProjects = document.querySelectorAll('.key-projects');
// const keyProjectsHeader = document.querySelectorAll('.key-projects-header');
// const keyProjectHeader = document.querySelectorAll('.key-project-header');
const technologyUsed = document.querySelectorAll('.technology-used');
const languageName = document.querySelectorAll('.language-name');
const languageLevel = document.querySelectorAll('.language-level');
const courseDates = document.querySelectorAll('.course-dates');
const courseDescription = document.querySelectorAll('.course-description');
// Timeline
// const timeline = document.querySelector('.timeline');
// const sections = timeline.querySelectorAll('.container');

// Update the currently displayed language
const updateLanguage = (lang) => {
  // Get the current language
  const current = lang === 'english' ? language.english : language.spanish;
  // Update the content
  bio.textContent = current.bio;
  creator.textContent = current.creator;
  copenhagen.textContent = current.copenhagen;
  lisbon.textContent = current.lisbon;
  linkHeader.textContent = current['link-header'];
  website.textContent = current.website;
  languageSwitch.textContent = current['language-switcher'];
  viewOnGithub.textContent = current['view-on-github'];
  host.textContent = current.host;
  textbooksRead.textContent = current['textbooks-read'];
  degree.textContent = current.degree;
  degreeCourse.textContent = current.course;
  // Use forEach for repeated content
  and.forEach((item) => (item.textContent = current.and));
  technologyUsed.forEach(
    (tech) => (tech.textContent = current['technology-used'])
  );
  // keyProjectsHeader.forEach(
  //   (header) => (header.textContent = current['key-projects-header'])
  // );
  // keyProjectHeader.forEach(
  //   (header) => (header.textContent = current['key-project-header'])
  // );
  // Loop through all conent
  for (let i = 0; i < headers.length; i++) {
    headers[i].textContent = current.headers[i];
  }
  for (let i = 0; i < positions.length; i++) {
    positions[i].textContent = current.experience[i].position;
    employmentDates[i].textContent = current.experience[i]['employment-dates'];
    employmentDescriptions[i].innerHTML = current.experience[i]['employment-description'];
    // keyProjects[i].innerHTML = current.experience[i]['key-projects'];
  }
  for (let i = 0; i < languageName.length; i++) {
    languageName[i].textContent = current.languages[i][0];
    languageLevel[i].textContent = current.languages[i][1];
  }
  for (let i = 0; i < courseDates.length; i++) {
    courseDates[i].textContent = current.education[i].dates;
  }
  for (let i = 0; i < courseDescription.length; i++) {
    courseDescription[i].innerHTML = current.education[i]['course-focus'];
  }
  // for (let i = 0; i < sections.length; i++) {
  //   let country = sections[i].querySelector('.timeline-country');
  //   country.textContent = current.timeline[i].country;
  //   let descriptions = sections[i].querySelectorAll(
  //     '.timeline-grid__description'
  //   );
  //   for (let j = 0; j < descriptions.length; j++) {
  //     descriptions[j].innerHTML = current.timeline[i].description[j];
  //   }
  // }
};

// Event listeners
englishBtn.addEventListener('click', (e) => {
  e.preventDefault();
  updateLanguage('english');
});
spanishBtn.addEventListener('click', (e) => {
  e.preventDefault();
  updateLanguage('spanish');
});

window.addEventListener('load', () => {
  if (window.location.href === 'https://slenane.github.io/cv/?lang=ES') {
    updateLanguage('spanish');
  }
});
